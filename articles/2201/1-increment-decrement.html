<h1 class="style1c">【JavaScriptの応用】インクリメント演算子とデクリメント演算子における前置・後置の違い</h1>
<p>JavaScriptでは、数値に1を足す場合や引く場合にインクリメント演算子やデクリメント演算子が使われています。
しかし、これらにおける前置演算と後置演算の違いに対して、いまいちピンときていない人もいるのではないでしょうか。</p>
<p>今回は、前置インクリメント/デクリメントと後置インクリメント/デクリメントの違いや注意点について紹介していきます。</p>
<h2 class="style2c">インクリメント演算子とデクリメント演算子とは？</h2>
<p>まずはじめに、数値に1足したり減らしたりするには、もっとも基本的な加算演算子や減算演算子で実現することができます。</p>

        <div class="hcb_wrap">
        <pre class="prism undefined-numbers lang-js" data-lang="JavaScript"><code>let a = 3;
let b = 5;

a = a + 1; // 加算演算子で1を足す
b = b - 1; // 減算演算子で1を引く

// a → 4
// b → 4
</code></pre>
        </div>
        
<p>しかし、インクリメント演算子やデクリメント演算子を使うことでより簡潔に書くことができます。</p>
<p>「インクリメント演算子」とは、++を使って対象の数値に1を加算するための演算子です。
また、「デクリメント演算子」とは、--を使って対象の数値に1を減算するための演算子です。</p>
<p>上記の例をインクリメント演算子/デクリメント演算子で表現すると以下のように書くことができます。</p>

        <div class="hcb_wrap">
        <pre class="prism undefined-numbers lang-js" data-lang="JavaScript"><code>let a = 3;
let b = 5;

a = ++a // インクリメント演算子で1を足す
b = --b // デクリメント演算子で1を引く

// a → 4
// b → 4
</code></pre>
        </div>
        
<h2 class="style2c">前置演算と後置演算</h2>
<p>インクリメント演算子とデクリメント演算子は、前置と後置に分けられます。
数値の前に演算子++/--を置く場合には、「前置」と呼ばれ、数値の後に演算子++/--を置く場合には、「後置」と呼ばれます。</p>

        <div class="hcb_wrap">
        <pre class="prism undefined-numbers lang-js" data-lang="JavaScript"><code>let a = 3;

++a; // 前置インクリメント
a++; // 後置インクリメント

--a; // 前置デクリメント
a--; // 後置デクリメント
</code></pre>
        </div>
        
<h2 class="style2c">前置演算と後置演算の違い</h2>
<p>ここまででインクリメント演算子とデクリメント演算子、それらの前置と後置についてかんたんに解説しましたが、今回の本題はここからです。
前置インクリメント/デクリメントと後置インクリメント/デクリメントは、前と後ろの置く場所によって異なる挙動が発生します。</p>
<h3 class="style3c">前置演算と後置演算の振る舞い</h3>
<p>まずは、かんたんに以下の例を見てみましょう。
ここでは前置と後置の振る舞いに注目するため、インクリメントのみ取り上げます。
デクリメントも同じ挙動となるため参考にしてください。</p>

        <div class="hcb_wrap">
        <pre class="prism undefined-numbers lang-js" data-lang="JavaScript"><code>// 前置演算の場合
let a = 3;
let b = ++a;

console.log(a); // 4
console.log(b); // 4
</code></pre>
        </div>
        

        <div class="hcb_wrap">
        <pre class="prism undefined-numbers lang-js" data-lang="JavaScript"><code>// 後置演算の場合
let a = 3;
let b = a++;

console.log(a); // 4
console.log(b); // 3
</code></pre>
        </div>
        
<h3 class="style3c">インクリメントを使わずに表現</h3>
<p>なぜ上記のように結果に違いが出たのか疑問を持つ人もいるかもしれません。
では、インクリメントを使わずに前置演算と後置演算を表現してみるとどうでしょうか。</p>

        <div class="hcb_wrap">
        <pre class="prism undefined-numbers lang-js" data-lang="JavaScript"><code>// 前置演算の場合
let a = 3;
let b;

a = a + 1;
b = a;

console.log(a); // 4
console.log(b); // 4
</code></pre>
        </div>
        

        <div class="hcb_wrap">
        <pre class="prism undefined-numbers lang-js" data-lang="JavaScript"><code>// 後置演算の場合
let a = 3;
let b;

b = a;
a = a + 1;

console.log(a); // 4
console.log(b); // 3
</code></pre>
        </div>
        
<p>この結果を紐解いていくと、以下のような処理の流れに違いがあることに気が付きます。
・前置演算：「①変数aを加算」→「②変数bに変数aを代入」という流れで処理されているため、aとbのどちらも出力結果が4になる。
・後置演算：「①変数bに変数aを代入」→ 「②変数aを加算」という流れで処理されているため、aが4、bが3という出力結果になる。</p>
<p>これを踏まえて考えてみると、なぜ前置インクリメントという名前なのか、なぜ後置インクリメントという名前なのか謎が解けるのではないでしょうか。
つまり、加算するタイミングが先に来るのが「前置インクリメント」、後に来るのが「後置インクリメント」ということになります。</p>
<h3 class="style3c">繰り返し処理における前置演算と後置演算の振る舞い</h3>
<p>具体的な実践の場としては、for文などの繰り返し処理が行われる際に、前置演算と後置演算の違いの理解が役に立ちます。
以下のように処理結果の違いを見比べてみると分かりやすいです。</p>

        <div class="hcb_wrap">
        <pre class="prism undefined-numbers lang-js" data-lang="JavaScript"><code>// 前置演算の場合
for (let i = 0; i &lt;= 5; ++i) {
    let a;
  a = ++i;
    
    console.log("i = " + i);
    console.log("a = " + a);
}
// "i = 1"
// "a = 1"
// "i = 3"
// "a = 3"
// "i = 5"
// "a = 5"
</code></pre>
        </div>
        

        <div class="hcb_wrap">
        <pre class="prism undefined-numbers lang-js" data-lang="JavaScript"><code>// 後置演算の場合
for (let i = 0; i &lt;= 5; i++) {
  let a;
    a = i++;

    console.log("i = " + i);
    console.log("a = " + a);
}
// "i = 1"
// "a = 0"
// "i = 3"
// "a = 2"
// "i = 5"
// "a = 4"
</code></pre>
        </div>
        
<p>明らかに出力結果が異なることが分かります。
繰り返し処理を行う場合には、前置演算と後置演算の違いを理解していないと、予期していない処理結果に繋がる場合があるため注意が必要です。
変数に代入するよりも前に数値を足したいのか、変数に代入した後に数値を足したいのか、目的によって使い分けられるすることが大切です。</p>
<h2 class="style2c">まとめ</h2>
<p>今回は、インクリメント演算子とデクリメント演算子における前置と後置の違いについて解説しました。</p>
<p>前置演算と後置演算の理解ができるようになると、単に安全にプログラムの処理を行えるだけでなく、チームによって前置演算を好む場合（または逆のパターン）などにも柔軟に使い分けができるようになります。</p>
<p>これを機にインクリメント演算子とデクリメント演算子をマスターできるようにしましょう。</p>
<h3 class="style3c">JavaScript関連情報</h3>
<p>[clink url="https://tcd-theme.com/2021/12/javascript-this.html"]
[clink url="https://tcd-theme.com/2021/12/javascript-call-apply.html"]
[clink url="https://tcd-theme.com/2021/12/javascript-bind.html"]</p>


